{"version":3,"sources":["pages/Profile/nftLists.js"],"names":["nftLists","_ref","isMyAccount","account","price","useSelector","state","web3","store","_useState","useState","_useState2","Object","D_Workspace_0906_NFT_Malysia_project_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","user","setUser","_useState3","_useState4","sortBy","setSortBy","_useState5","_useState6","category","setCategory","_useState7","_useState8","filteredNFTs","setFilteredNFT","_useState9","_useState10","activated","setActivated","_useState11","bnb","moonstar","_useState12","setTokenPrice","useEffect","restApi","get","params","status","owner","sortDir","page","limit","then","res","data","items","catch","e","console","log","userAccount","concat","response","assign","name","avatar","bio","twitter","telegram","instagram","onChangeCategory","_ref2","D_Workspace_0906_NFT_Malysia_project_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","D_Workspace_0906_NFT_Malysia_project_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","categoryId","wrap","_context","prev","next","preventDefault","stop","_x","_x2","apply","this","arguments","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","className","data-aos","data-aos-delay","src","icon1","alt","role","onClick","_components_Main_SortSelect__WEBPACK_IMPORTED_MODULE_8__","handleSort","value","options","label","defaultValue","length","map","nft","key","_components_Main_ItemCard__WEBPACK_IMPORTED_MODULE_9__","viewButton","reactstrap__WEBPACK_IMPORTED_MODULE_5__","size"],"mappings":"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","file":"static/js/6.af0f6fa0.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Spinner } from 'reactstrap';\r\nimport icon1 from '../../assets/img/icons/1.png';\r\nimport restApi from '../../utils/restApi';\r\nimport SortSelect from '../../components/Main/SortSelect';\r\nimport ItemCard from '../../components/Main/ItemCard';\r\n\r\nconst nftLists = ({ isMyAccount, account }) => {\r\n  const price = useSelector((state) => state.price);\r\n  const web3 = useSelector((store) => store.web3);\r\n  const [user, setUser] = useState(null);\r\n  const [sortBy, setSortBy] = useState('mintedAt');\r\n  const [category, setCategory] = useState('all');\r\n  const [filteredNFTs, setFilteredNFT] = useState(null);\r\n  const [activated, setActivated] = useState(0);\r\n  const [tokenPrice, setTokenPrice] = useState({\r\n    bnb: price.bnb,\r\n    moonstar: price.moonstar,\r\n  });\r\n\r\n  const sortOptions = [\r\n    { value: 'views', label: 'POPULARITY' },\r\n    { value: 'mintedAt', label: 'NEWEST' },\r\n    { value: 'price', label: 'PRICE' }\r\n  ]\r\n\r\n  useEffect(() => {\r\n    setTokenPrice(price);\r\n  }, [price]);\r\n\r\n  useEffect(() => {\r\n    if (account) {\r\n      restApi.get('item', {\r\n        params: {\r\n          status: category,\r\n          owner: account,\r\n          sortDir: 'asc',\r\n          sortBy: sortBy,\r\n          page: 0,\r\n          limit: 1000\r\n        }\r\n      }).then(res => {\r\n        setFilteredNFT(res.data.items);\r\n      }).catch(e => {\r\n        console.log(e)\r\n        setFilteredNFT([]);\r\n      })\r\n    }\r\n  }, [sortBy, category, account]);\r\n\r\n  useEffect(() => {\r\n    if (web3.userAccount) {\r\n      restApi.get(`user/${web3.userAccount}`).then(response => {\r\n        if (response) {\r\n          const data = response.data.user;\r\n          setUser(Object.assign({\r\n            name: 'Artist',\r\n            avatar: 'https://ipfs.io/ipfs/QmRRXBjQRQBdnivJuGe9bgk4yqogULSYoLmcy32y6AierY',\r\n            bio: 'Artist Bio',\r\n            twitter: '',\r\n            telegram: '',\r\n            instagram: '',\r\n          }, data))\r\n        }\r\n      })\r\n    }\r\n  }, [web3.userAccount]);\r\n\r\n  const viewItem = (e, collectionId, nftId) => {\r\n    e.preventDefault();\r\n    if (isMyAccount) {\r\n      window.location = `view/${collectionId}/${nftId}`;\r\n    }\r\n  };\r\n  const onChangeCategory = async (e, categoryId) => {\r\n    e.preventDefault();\r\n    setFilteredNFT([]);\r\n    setActivated(categoryId);\r\n    if (categoryId === 0) {\r\n      setCategory('all')\r\n    } else if (categoryId === 1) {\r\n      setCategory(true)\r\n    } else {\r\n      setCategory(false)\r\n    }\r\n  };\r\n  // sort\r\n  const handleSort = (e) => {\r\n    if (e.value) {\r\n      setSortBy(e.value)\r\n    }\r\n  };\r\n  return (\r\n    <section className=\"pb-5\" data-aos=\"fade-up\" data-aos-delay=\"400\">\r\n      <div className=\"container\">\r\n        <div className=\"row align-items-center\">\r\n          <div className=\"col-xl-6 col-lg-4\">\r\n            <div className=\"section-title d-flex align-items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <img className=\"section-icon\" src={icon1} alt=\"icon1\" />\r\n              </div>\r\n              <div className=\"flex-grow-1 ms-3\">\r\n                <h2 className=\"section-heading section-heading-after\">\r\n                  {isMyAccount ? 'YOUR' : `${user ? user.name : 'Artist'}`} NFTâ€™S\r\n                </h2>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-xl-6 col-lg-8\">\r\n            <div className=\"row align-items-center\">\r\n              <div className=\"col-sm-6 text-center-sm\">\r\n                <div className=\"btn btn-filter-group\" role=\"group\">\r\n                  <button\r\n                    className={`btn btn-filter ${activated === 0 ? 'active' : ''}`}\r\n                    onClick={(e) => onChangeCategory(e, 0)}\r\n                  >\r\n                    ALL\r\n                  </button>\r\n                  <button\r\n                    className={`btn btn-filter ${activated === 1 ? 'active' : ''}`}\r\n                    onClick={(e) => onChangeCategory(e, 1)}\r\n                  >\r\n                    for sale\r\n                  </button>\r\n                  <button\r\n                    className={`btn btn-filter ${activated === 2 ? 'active' : ''}`}\r\n                    onClick={(e) => onChangeCategory(e, 2)}\r\n                  >\r\n                    STORAGE\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-sm-6\">\r\n                <div className=\"sort-select\">\r\n                  <span className='me-1'>Sort By : </span>\r\n                  <SortSelect handleSort={handleSort} options={sortOptions} defaultValue={1} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row  d-flex flex-wrap justify-content-around\">\r\n          {filteredNFTs && filteredNFTs.length > 0 ? (\r\n            filteredNFTs.map((nft, key) => (\r\n              <div className=\"col-lg-3 col-6\">\r\n                <ItemCard nft={nft} key={key} viewButton={true} />\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div className=\"text-center col-12\">\r\n              {filteredNFTs ? 'EMPTY' : <Spinner size=\"md\" />}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default nftLists;\r\n"],"sourceRoot":""}